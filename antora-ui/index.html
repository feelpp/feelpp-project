<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Antora Default UI :: Feel++ Template Project</title>
    <link rel="canonical" href="https://feelpp.github.io/feelpp-project/antora-ui/index.html">
    <meta name="generator" content="Antora 3.1.3">
    <link rel="stylesheet" href="../_/css/site.css">
<link rel="icon" href="../_/img/favicon.ico" type="image/x-icon">
<script>!function(l,p){if(l.protocol!==p&&l.host=="docs.antora.org"){l.protocol=p}else if(/\.gitlab\.io$/.test(l.host)){l.replace(p+"//docs.antora.org"+l.pathname.substr(l.pathname.indexOf("/",1))+l.search+l.hash)}}(location,"https:")</script>

<script src="../_/js/vendor/tabs-block-extension.js"></script>
<script src="../_/js/vendor/tabs-block-behavior.js"></script>



<script type="text/x-mathjax-config">
MathJax.Hub.Config({
  messageStyle: "none",
  tex2jax: {
    inlineMath: [['$','$'], ['\\(','\\)']],
    displayMath: [['$$','$$'], ['\\[','\\]']],
    processEscapes: true,
    processEnvironments: true,
    ignoreClass: "nostem|nolatexmath"
  },
  asciimath2jax: {
    delimiters: [["\\$", "\\$"]],
    ignoreClass: "nostem|noasciimath"
  },

  TeX: {
      Macros: {
      RR: "{\\mathbb R}",
      NN: "{\\mathbb N}",
      Nso: "{N_{\\mathrm{so}}}",
      Nma: "{N_{\\mathrm{ma}}}",
      Nno: "{N_{\\mathrm{no}}}",
      Ne: "{N_{\\mathrm{e}}}",
      Ilag: ["{\\mathcal{I}^{\\mathrm{lag}}_{#1}}",1],
      calTh: "{\\mathcal{T}_h}",
      Ck: ["{\\mathcal{C}^{#1}}",1],
      Pk: ["{\\mathcal{P}^{#1}}",1],
      Qk: ["{\\mathcal{Q}^{#1}}",1],
      Pch: ["{P^{#1}_{c,h}}",1],
      Pcho: ["{P^{#1}_{c,h,0}}",1],
      Qch: ["{Q^{#1}_{c,h}}",1],
      Ich: ["{\\mathcal{I}^{#1}_{c,h}#2}",2],
      poly: ["{\\mathbb{#1}}",1],
      nf: "{n_f}",
      ngeo: "{n_{\\mathrm{geo}}}",
      geo: "{\\mathrm{geo}}",
      card: ["{\\operatorname{card}(#1)}",1],
      dim: ["{\\operatorname{dim}(#1)}",1],
      opdim: "{\\operatorname{dim}}",
      card: ["{\\operatorname{card}(#1)}",1],
      poly: ["{\\mathbb{#1}",1],
      R: ["{\\mathbb{R}^{#1}}",1],
      set: ["{\\left\\{#1\\right\\}}",1],
      diam: "{\\operatorname{diam}}",
      jump: ["{[\\![ #1 ]\\!]}",1],
      Next: "{\\mathrm{n}}",
      essinf: "{\\operatorname{ess}\\, \\operatorname{inf}}",
      tr: "{\\operatorname{tr}}",
      Id: "{\\mathcal{I}}",
      disp: ["{\\mathbf{#1}}",1],
      stresst: ["{\\mathbf{\\sigma(#1)}}",1],
      deformt: ["{\\mathbf{\\varepsilon(#1)}}",1],
      domain: "{\\Omega}",
      prect: ["{\\left\\(#1\\right\\)}",1],
      ds: "",
      bold: ["{\\bf #1}",1],
      p: "{\\mathrm{p}}",
      q:"{\\mathbf{q}}",
      n:"{\\mathbf{n}}",
      T:"{\\mathcal{T}}",
      F:"{\\mathcal{F}}",
      P:"{\\mathcal{P}}",
      v:"{\\mathbf{v}}"
  },
  extensions: ["mhchem.js"] }
});
</script>
<!--<script type="text/javascript" async src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.3/MathJax.js?config=TeX-MML-AM_CHTML"></script>-->
<!-- <script src='https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.4/MathJax.js?config=TeX-MML-AM_CHTML' async></script> -->
<script src='https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-AMS_CHTML'>
</script>
<!--<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.6.0/MathJax.js?config=TeX-MML-AM_HTMLorMML"></script>-->

<!--<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.9.0/katex.min.css" integrity="sha384-TEMocfGvRuD1rIAacqrknm5BQZ7W7uWitoih+jMNFXQIbNl16bO8OZmylH/Vi/Ei" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.9.0/katex.min.js" integrity="sha384-jmxIlussZWB7qCuB+PgKG1uLjjxbVVIayPJwi6cG6Zb4YKq0JIw+OMnkkEC7kYCq" crossorigin="anonymous"></script>-->
<script>var uiRootPath = '../_'</script>

  </head>
  <body class="article">
<header class="header">
    <nav class="navbar navbar-expand-sm bg-dark navbar-dark navbar-template-project" style="border-top: 4px solid #9E9E9E">
        <div class="navbar-brand">
            <div class="navbar-item feelpp-logo">
                <a href="https://feelpp.github.io/feelpp-project">Feel++ Template Project</a>
            </div>
            <button class="navbar-burger" data-target="topbar-nav">
                <span></span>
                <span></span>
                <span></span>
            </button>
        </div>

        <div id="topbar-nav" class="navbar-menu">
            <div class="navbar-end">
                <div class="navbar-item">
                    <a href="https://docs.feelpp.org/">Documentation Reference</a>
                </div>
                <div class="navbar-item has-dropdown is-hoverable download-item">
                    <div class="navbar-item"><a href="https://docs.feelpp.org/user/latest/install/index.html" class="download-btn">Get Feel++</a></div>
                </div>
                <div class="navbar-item">
                    <a class="navbar-brand"  href="https://www.cemosis.fr">
                        <img class="cemosis-logo"  src="../_/img/cemosis-logo.svg" alt="Cemosis logo"/>
                    </a>
                </div>
            </div>
        </div>
    </nav>
</header>
<div class="body">
<a href="#" class="menu-expand-toggle"></a>
<div class="nav-container" data-component="antora-ui" data-version="">
  <aside class="nav">
    <div class="panels">
<div class="nav-panel-menu is-active" data-panel="menu">
  <nav class="nav-menu">
    <h3 class="title"><a href="index.html">Feel++ Antora UI</a></h3>
<ul class="nav-list">
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="prerequisites.html">UI Development Prerequisites</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="set-up-project.html">Set up a UI Project</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="build-preview-ui.html">Build and Preview the UI</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="development-workflow.html">UI Development Workflow</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="templates.html">Work with the Handlebars Templates</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="add-static-files.html">Add Static Files</a>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="stylesheets.html">Work with the CSS Stylesheets</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="add-fonts.html">Add Fonts</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="copy-to-clipboard.html">Copy to clipboard</a>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="style-guide.html">UI Element Styles</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="inline-text-styles.html">Inline Text</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="admonition-styles.html">Admonitions</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="list-styles.html">Lists</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="sidebar-styles.html">Sidebars</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="ui-macro-styles.html">UI Macros</a>
  </li>
</ul>
  </li>
</ul>
  </li>
</ul>
  </nav>
</div>
<div class="nav-panel-explore" data-panel="explore">
  <div class="context">
    <span class="title">Feel++ Antora UI</span>
    <span class="version"></span>
  </div>
  <ul class="components">
      <li class="component is-current">
        <a class="title" href="index.html">Feel++ Antora UI</a>
      </li>
      <li class="component">
        <a class="title" href="../feelpp-project/index.html">Template Project</a>
      </li>
  </ul>
</div>
    </div>
  </aside>
</div>
<main class="article">
<div class="toolbar" role="navigation">
  <button class="nav-toggle"></button>
    <a href="../feelpp-project/index.html" class="home-link"></a>
  <nav class="breadcrumbs" aria-label="breadcrumbs">
  <ul>
    <li><a href="index.html">Feel++ Antora UI</a></li>
    <li><a href="index.html">Antora Default UI</a></li>
  </ul>
</nav>

  
    <div class="edit-this-page"><a href="https://github.com/feelpp/antora-ui/edit/main/docs/modules/ROOT/pages/index.adoc">Edit this Page</a></div>
  
  <div class="page-downloads">
  <span class="label">Download as</span>
  <ul class="download-options">
    <li>
      <a onclick="print(this)" href="#" data-toggle="tooltip" data-placement="left" title="Print to PDF"
         class="pdf-download">
        <img class="pdf-file-icon icon" src="../_/img/pdf.svg"/> .pdf
      </a>
    </li>
  </ul>
</div>
</div>

  <div class="content">
<aside class="toc sidebar" data-title="Contents" data-levels="2">
  <div class="toc-menu"></div>
</aside>
<article class="doc">
<h1 class="page">Antora Default UI</h1>
<div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>This project produces the <a href="https://antora.gitlab.io/antora-ui-default">default UI bundle</a> for documentation sites generated with <a href="https://antora.org">Antora</a>.
It contains the UI assets (page templates, CSS, JavaScript, images, etc.) and a Gulp build script.
The build can be used to preview the UI locally (featuring live updates), or to package it for consumption by the Antora site generator.</p>
</div>
<div class="paragraph">
<p>This documentation explains how to use this project to set up, customize and manage a UI for a documentation site generated with Antora.
After reading it, you&#8217;ll be able to:</p>
</div>
<div class="ulist checklist">
<ul class="checklist">
<li>
<p><i class="fa fa-check-square-o"></i> Understand how an Antora UI project is structured.</p>
</li>
<li>
<p><i class="fa fa-check-square-o"></i> Set up your environment to work on the UI project.</p>
</li>
<li>
<p><i class="fa fa-check-square-o"></i> Launch a preview server to visually inspect the UI.</p>
</li>
<li>
<p><i class="fa fa-check-square-o"></i> Adopt a development workflow to share and accept changes to the UI.</p>
</li>
<li>
<p><i class="fa fa-check-square-o"></i> Package a UI for your documentation site that Antora can use.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_file_type_and_technology_overview"><a class="anchor" href="#_file_type_and_technology_overview"></a>1. File type and technology overview</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The Antora UI consists of the following file types that are used to structure and style the documentation site pages generated by Antora.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Handlebars &#8220;page&#8221; templates (layouts, partials, and helpers)</p>
</li>
<li>
<p>CSS (enhanced using PostCSS)</p>
</li>
<li>
<p>JavaScript (UI scripts)</p>
</li>
<li>
<p>Images / Graphics (specific to the UI)</p>
</li>
<li>
<p>Fonts</p>
</li>
<li>
<p>Sample content for previewing the UI (HTML and UI model)</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>To understand how the UI works, let&#8217;s begin by surveying the primary technologies used by the UI.</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">Handlebars (file extension: <code>.hbs</code>)</dt>
<dd>
<p><a href="https://handlebarsjs.com">Handlebars</a> is a &#8220;logic-less&#8221; templating engine used to create HTML from template files.
Templates contain placeholders (i.e., mustache expressions like <code>{{{page.title}}}</code>) into which content is injected from a model.
They also accommodate simple logic expressions for repeating content or including it conditionally (e.g., <code>{{#each navigation}}</code>) as well as partials (e.g., <code>{{&gt; header}}</code>).</p>
</dd>
<dt class="hdlist1">Gulp (script file: <em class="path">gulpfile.js/index.js</em>)</dt>
<dd>
<p><a href="https://gulpjs.com">Gulp</a> is a build tool for JavaScript projects.
It configures a collection of tasks that can be used to perform automated tasks such as compiling files, running a preview server, or publishing a release.</p>
</dd>
<dt class="hdlist1">npm (command: <code>npm</code>)</dt>
<dd>
<p>npm manages software packages (i.e., software dependencies) that it downloads from <a href="https://npmjs.com" class="bare">npmjs.com</a>.
Software this project uses includes libraries that handle compilation as well as shared assets such as font files that are distributed as npm packages.
npm is part of Node.js.</p>
<div class="dlist">
<dl>
<dt class="hdlist1">package.json</dt>
<dd>
<p>This file keeps track of the dependencies (described using fuzzy versions) that npm (or Yarn) should fetch.</p>
</dd>
<dt class="hdlist1">package-lock.json</dt>
<dd>
<p>This file contains a report of which dependencies npm resolved.
This information ensures that dependency resolution is reproducible.</p>
</dd>
<dt class="hdlist1">node_modules/</dt>
<dd>
<p>A local cache of resolved dependencies that npm (or Yarn) fetches.</p>
</dd>
</dl>
</div>
</dd>
<dt class="hdlist1">PostCSS</dt>
<dd>
<p>This project does not use a CSS preprocessor such as Sass or LESS.
Instead, it relies on normal CSS which is enhanced by a series of postprocessors.
The most common postprocessor backports newer CSS features to older browsers by adding properties with vendor prefixes.</p>
</dd>
</dl>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_ui_project_versus_ui_bundle"><a class="anchor" href="#_ui_project_versus_ui_bundle"></a>2. UI project versus UI bundle</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The <strong class="term">UI project</strong>, which is comprised of the source files in the git repository, provides the recipe and raw materials for creating an Antora UI bundle.
It includes a build, source files, project files, and dependency information.
This is your development workspace.</p>
</div>
<div class="paragraph">
<p>The <strong class="term">UI bundle</strong>, a distributable archive, provides pre-compiled (interpreted, consolidated, and/or minimized) files that are ready to be used by Antora.</p>
</div>
<div class="sect2">
<h3 id="_ui_project_repository_structure_default_branch"><a class="anchor" href="#_ui_project_repository_structure_default_branch"></a>2.1. UI project repository structure (default branch)</h3>
<div class="paragraph">
<p>You should think of the UI project&#8217;s default branch as your UI workspace.
It contains the recipe and raw materials for creating a UI, including a build, source files, project files, and dependency information.</p>
</div>
<div class="paragraph">
<p>Here&#8217;s how the files are structured in the UI project:</p>
</div>
<div class="literalblock output">
<div class="content">
<pre>README.adoc
gulpfile.js/
  index.js
  lib/
  tasks/
package.json
package-lock.json
src/
  css/
    base.css
    breadcrumbs.css
    ...
  helpers/
    and.js
    eq.js
    ...
  img/
    back.svg
    caret.svg
    ...
  layouts/
    404.hbs
    default.hbs
  partials/
    article.hbs
    breadcrumbs.hbs
    ...
  js/
    01-navigation.js
    02-fragment-jumper.js
    ...
    vendor/
      highlight.js
preview-src/
  index.html
  ui-model.yml</pre>
</div>
</div>
<div class="paragraph">
<p>A Gulp build is used to compile and assemble the UI project files into a UI bundle.</p>
</div>
</div>
<div class="sect2">
<h3 id="_ui_bundle_structure_releases"><a class="anchor" href="#_ui_bundle_structure_releases"></a>2.2. UI bundle structure (releases)</h3>
<div class="paragraph">
<p>The UI bundle&#8212;&#8203;a distributable archive&#8212;&#8203;provides files which are ready to be used by Antora.</p>
</div>
<div class="paragraph">
<p>When the UI project files are built by Gulp, they are assembled under the <em class="path">public</em> directory.
Since the <em class="path">public</em> directory is generated, it&#8217;s safe to remove.</p>
</div>
<div class="paragraph">
<p>The contents of the UI bundle resembles the UI project&#8217;s default branch contents, except the bundle doesn&#8217;t contain any files other than the ones that make up the UI.
This is the content that is used by Antora.</p>
</div>
<div class="literalblock output">
<div class="content">
<pre>css/
  site.css
font/
  ...
helpers/
  and.js
  eq.js
  ...
img/
  back.svg
  caret.svg
  ...
layouts/
  404.hbs
  default.hbs
partials/
  article.hbs
  breadcrumbs.hbs
  ...
js/
  site.js
  vendor/
    highlight.js</pre>
</div>
</div>
<div class="paragraph">
<p>Some of these files have been compiled or aggregated, such as the stylesheets and JavaScript.
The benefit of building the UI files is that the files can be optimized for static inclusion in the site without that optimization getting in the way of UI development.
For example, the UI build can optimize SVGs or add vendor prefixes to the CSS.
Since these optimizations are only applied to the pre-compiled files, they don&#8217;t interfere with the web developer&#8217;s workflow.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_ui_compilation_and_generator_consumption_overview"><a class="anchor" href="#_ui_compilation_and_generator_consumption_overview"></a>3. UI compilation and generator consumption overview</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The purpose of an Antora UI project is to assemble the UI files into a reusable distribution that Antora can use to compose the HTML pages and the assets they require.</p>
</div>
<div class="paragraph">
<p>The only required file in the UI bundle is the default Handlebars layout for pages (i.e., <em class="path">layouts/default.hbs</em>).
If the 404 page is enabled, the Handlebars layout for the 404 page is also required (i.e., <em class="path">layouts/404.hbs</em>).</p>
</div>
<div class="paragraph">
<p>The layout files must be located in the <em class="path">layouts</em> folder in the UI bundle.
The name of the layout is the stem of the file, which is the file&#8217;s basename with a file extension (e.g., <em class="path">layouts/default.hbs</em> becomes <code>default</code>).</p>
</div>
<div class="literalblock output">
<div class="content">
<pre>layouts/
  404.hbs
  default.hbs</pre>
</div>
</div>
<div class="paragraph">
<p>There are no other required files in a UI bundle.
Any additional files are only required because they are referenced by a layout, either when generating the HTML (partial or helper) or assets referenced by the HTML (CSS or JavaScript) that are served to the browser.
Antora does not copy layouts, partials, or helpers to the generated site.</p>
</div>
<div class="paragraph">
<p>If the layout looks for a partial, that partial must be located in the <em class="path">partials</em> directory.
The name of the partial is the stem of the file (e.g,. <em class="path">partials/body.hbs</em>] becomes <code>body</code> and used as <code>&gt; body</code>).
If the partial is inside a folder, the name of that folder is not used in the partial&#8217;s name.
Additionally, any JavaScript files found in the <em class="path">helpers</em> directory are automatically registered as template helpers.
The name of the helper function matches the stem of the file (e.g., <em class="path">heleprs/concat.js</em> becomes <code>concat</code>).</p>
</div>
<div class="paragraph">
<p>Here&#8217;s how a UI would be structured if it had layouts, partials, and helpers:</p>
</div>
<div class="literalblock output">
<div class="content">
<pre>helpers/
  concat.js
layouts/
  404.hbs
  default.hbs
partials/
  body.hbs</pre>
</div>
</div>
<div class="paragraph">
<p>The UI is served statically in a production site, but the UI&#8217;s assets live in a source form in a UI project to accommodate development and simplify maintenance.
When handed off to the Antora pipeline, the UI is in an interim, pre-compiled state.
Specifically, the default branch of the git repository contains the files in source form while releases are used to distribute the files in pre-compiled form.</p>
</div>
<div class="paragraph">
<p>The responsibility of compiling the UI is shared between a UI project and Antora.
The UI project uses a local build to pre-compile (i.e., interpret, consolidate, and/or minimize) the files.
The pre-compiled files are agnostic to Antora&#8217;s content model, relieving the generator from having to deal with this part.
It also allows the UI to be reused.</p>
</div>
<div class="paragraph">
<p>The UI project build then packages the UI into a bundle, which the UI Loader in Antora consumes.
Antora grabs the bundle, extracts it into a UI catalog, and takes compilation to completion by weaving the Antora&#8217;s content model into the Handlebars templates to make the pages and auxiliary data files.
Antora then copies the remaining UI assets to the site output.</p>
</div>
<div class="paragraph">
<p>Now that you have an overview of the files that make up the UI and how it gets assembled, let&#8217;s go over how to set up the project, build the UI, and preview it.</p>
</div>
</div>
</div>
</article>
  </div>
</main>
</div>
<footer class="footer" style="border-top: 2px solid #e9e9e9; background-color: #fafafa; padding-bottom: 2em; padding-top: 2em;">
    <div class="container" style="display: flex; flex-direction: column; align-items: center; gap: 0.5em;">
        <div>
            <a href="https://www.cemosis.fr">
                <img src="../_/img/cemosis-logo.svg" alt="Cemosis logo" height="50">
            </a>
        </div>
        <span style="font-size: 0.8rem; color: #9e9e9e">© 2023 <a href="https://www.cemosis.fr" style="text-decoration: underline;">Cemosis</a>, Université de Strasbourg</span>
    </div>
</footer>
<script id="site-script" src="../_/js/site.js" data-ui-root-path="../_"></script>


<script async src="../_/js/vendor/fontawesome-icon-defs.js"></script>
<script async src="../_/js/vendor/fontawesome.js"></script>
<script async src="../_/js/vendor/highlight.js"></script>


<script type="text/javascript">
function toggleFullScreen() {
   var doc = window.document;
   var docEl = doc.documentElement;

   var requestFullScreen = docEl.requestFullscreen || docEl.mozRequestFullScreen || docEl.webkitRequestFullScreen || docEl.msRequestFullscreen;
   var cancelFullScreen = doc.exitFullscreen || doc.mozCancelFullScreen || doc.webkitExitFullscreen || doc.msExitFullscreen;

   if(!doc.fullscreenElement && !doc.mozFullScreenElement && !doc.webkitFullscreenElement && !doc.msFullscreenElement) {
       requestFullScreen.call(docEl);
   }
   else {
       cancelFullScreen.call(doc);
   }
}
</script>
  </body>
</html>
